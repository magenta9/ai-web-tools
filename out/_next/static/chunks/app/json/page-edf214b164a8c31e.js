(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[681],{339:()=>{},2667:(e,s,t)=>{Promise.resolve().then(t.bind(t,6809))},2947:(e,s,t)=>{"use strict";t.d(s,{default:()=>m});var a=t(5155),l=t(2619),n=t.n(l),c=t(63),i=t(2230),r=t(8581),o=t(6170);let d=[{href:"/json",label:"JSON",icon:r.jTw},{href:"/image",label:"IMAGE",icon:r.Cyq},{href:"/diff",label:"DIFF",icon:r.EX0},{href:"/timestamp",label:"TIMESTAMP",icon:r.a$},{href:"/jwt",label:"JWT",icon:r.bMg}];function h(){let e=(0,c.usePathname)(),{isDarkMode:s,toggleTheme:t}=(0,o.D)();return(0,a.jsx)("header",{className:"header",children:(0,a.jsxs)("div",{className:"header-content",children:[(0,a.jsxs)("div",{className:"logo",children:[(0,a.jsx)("div",{className:"logo-icon",children:(0,a.jsx)(i.g,{icon:r.Cyq})}),(0,a.jsxs)("div",{className:"logo-text",children:[(0,a.jsx)("h1",{className:"logo-title",children:"WEB TOOLS"}),(0,a.jsxs)("p",{className:"logo-subtitle",children:["/* "," Developer Tools Suite v4.0 "," */"]})]})]}),(0,a.jsxs)("nav",{className:"nav",children:[d.map(s=>(0,a.jsxs)(n(),{href:s.href,className:"nav-link ".concat(e===s.href?"active":""),children:[(0,a.jsx)(i.g,{icon:s.icon})," ",s.label]},s.href)),(0,a.jsxs)("button",{className:"nav-link theme-toggle",onClick:t,children:[(0,a.jsx)(i.g,{icon:s?r.oMq:r.PJS}),(0,a.jsx)("span",{style:{marginLeft:"5px"},children:s?"DARK":"LIGHT"})]})]})]})})}function m(e){let{children:s}=e;return(0,a.jsxs)("div",{className:"app",children:[(0,a.jsx)(h,{}),(0,a.jsx)("main",{className:"main-content",children:s})]})}},6170:(e,s,t)=>{"use strict";t.d(s,{D:()=>i,ThemeProvider:()=>c});var a=t(5155),l=t(2115);let n=(0,l.createContext)(void 0);function c(e){let{children:s}=e,[t,c]=(0,l.useState)(!0),[i,r]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{r(!0),"light"===localStorage.getItem("theme")?(c(!1),document.documentElement.classList.remove("dark")):document.documentElement.classList.add("dark")},[]),i)?(0,a.jsx)(n.Provider,{value:{isDarkMode:t,toggleTheme:()=>{let e=!t;c(e),localStorage.setItem("theme",e?"dark":"light"),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}},children:s}):null}function i(){let e=(0,l.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},6809:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(5155),l=t(2115),n=t(2230),c=t(8581),i=t(2947);function r(){let[e,s]=(0,l.useState)(""),[t,r]=(0,l.useState)(""),[o,d]=(0,l.useState)(2),[h,m]=(0,l.useState)(!0),[x,p]=(0,l.useState)(!1),[u,j]=(0,l.useState)([]),[g,N]=(0,l.useState)(!1),[b,v]=(0,l.useState)("empty"),[f,y]=(0,l.useState)(""),[S,k]=(0,l.useState)({input:0,output:0}),C=l.useRef(null),O=(0,l.useCallback)((e,s,t)=>{let a=[{type:"json_processing",input:s,output:t,timestamp:new Date().getTime(),mode:e},...u].slice(0,100);j(a),localStorage.setItem("json_history",JSON.stringify(a))},[u]),T=(0,l.useCallback)(()=>{k({input:e.length,output:t.length})},[e,t]),E=(0,l.useCallback)(()=>{let s=e.trim();if(!s){v("empty"),y("");return}try{JSON.parse(s),v("valid"),y("")}catch(e){v("invalid"),y(e.message)}},[e]),J=(0,l.useCallback)(e=>Array.isArray(e)?e.map(J):null!==e&&"object"==typeof e?Object.keys(e).sort().reduce((s,t)=>(s[t]=J(e[t]),s),{}):e,[]),w=(0,l.useCallback)(function(s){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.trim();if(!a){t||alert("请输入内容");return}try{let e="";if("escape"===s)e=JSON.stringify(a);else if("unescape"===s)try{e=JSON.parse(a),"string"!=typeof e&&(e=JSON.stringify(e,null,o))}catch(s){e=a.replace(/\\"/g,'"').replace(/\\\\/g,"\\")}else{let t;try{t=JSON.parse(a)}catch(e){try{t=Function("return "+a)()}catch(e){throw Error("无效的 JSON 数据")}}"format"===s?(h&&(t=J(t)),e=JSON.stringify(t,null,o)):"minify"===s&&(e=JSON.stringify(t))}r(e);let l="format"===s?"格式化":"minify"===s?"压缩":s;t||(alert("".concat(l,"成功")),O(s,a,e))}catch(s){let e=s.message;y(e),t||alert("处理失败: ".concat(e))}},[e,o,h,O,J]),I=async e=>{try{await navigator.clipboard.writeText(e),alert("已复制到剪贴板")}catch(e){alert("复制失败")}},M=async()=>{try{let e=await navigator.clipboard.readText();s(e),alert("已粘贴")}catch(e){alert("无法读取剪贴板")}},_=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["B","KB","MB"][s]};return(0,l.useEffect)(()=>{let e=localStorage.getItem("json_history");e&&j(JSON.parse(e)),T()},[T]),(0,l.useEffect)(()=>{T(),x&&e&&(C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{w("format",!0)},500)),E()},[e,x,w,T,E]),(0,l.useEffect)(()=>{T()},[t,T]),(0,a.jsx)(i.default,{children:(0,a.jsxs)("div",{className:"json-tool",children:[(0,a.jsxs)("div",{className:"json-container",children:[(0,a.jsxs)("div",{className:"options-bar",children:[(0,a.jsxs)("div",{className:"option-group",children:[(0,a.jsxs)("label",{className:"option-label",children:[(0,a.jsx)("input",{type:"checkbox",checked:h,onChange:e=>m(e.target.checked)}),(0,a.jsx)(n.g,{icon:c.YpS})," 排序键"]}),(0,a.jsxs)("label",{className:"option-label",children:[(0,a.jsx)("input",{type:"checkbox",checked:x,onChange:e=>p(e.target.checked)}),(0,a.jsx)(n.g,{icon:c.xiI})," 实时模式"]})]}),(0,a.jsx)("div",{className:"option-group",children:(0,a.jsxs)("label",{className:"option-label",children:["缩进:",(0,a.jsxs)("select",{value:o,onChange:e=>d(Number(e.target.value)),className:"indent-select",children:[(0,a.jsx)("option",{value:2,children:"2 空格"}),(0,a.jsx)("option",{value:4,children:"4 空格"}),(0,a.jsx)("option",{value:0,children:"Tab"})]})]})})]}),(0,a.jsxs)("div",{className:"panels",children:[(0,a.jsxs)("div",{className:"panel",children:[(0,a.jsxs)("div",{className:"panel-header",children:[(0,a.jsxs)("div",{className:"panel-title",children:[(0,a.jsx)(n.g,{icon:c.dmS})," INPUT","empty"!==b&&(0,a.jsxs)("span",{className:"validation-indicator ".concat(b),children:[(0,a.jsx)(n.g,{icon:"valid"===b?c.SGM:c.zpE}),"valid"===b?"有效":"无效"]})]}),(0,a.jsxs)("div",{className:"panel-actions",children:[(0,a.jsxs)("button",{className:"panel-btn format-btn",onClick:()=>w("format"),children:[(0,a.jsx)(n.g,{icon:c.WVH})," FORMAT"]}),(0,a.jsxs)("button",{className:"panel-btn minify-btn",onClick:()=>w("minify"),children:[(0,a.jsx)(n.g,{icon:c.l0h})," MINIFY"]}),(0,a.jsxs)("button",{className:"panel-btn escape-btn",onClick:()=>w("escape"),children:[(0,a.jsx)(n.g,{icon:c.oE6})," ESCAPE"]}),(0,a.jsxs)("button",{className:"panel-btn unescape-btn",onClick:()=>w("unescape"),children:[(0,a.jsx)(n.g,{icon:c.$7g})," UNESCAPE"]}),(0,a.jsxs)("button",{className:"panel-btn fix-btn",onClick:()=>{let t=e.trim();if(!t)return void alert("请输入内容");try{let e=t;e=(e=(e=e.replace(/'/g,'"')).replace(/([{,]\s*)([a-zA-Z_$][a-zA-Z0-9_$]*)\s*:/g,'$1"$2":')).replace(/,(\s*[}\]])/g,"$1");let a=JSON.parse(e),l=JSON.stringify(a,null,o);r(l),s(e),alert("JSON 修复成功"),O("fix",t,l)}catch(e){alert("无法自动修复 JSON")}},children:[(0,a.jsx)(n.g,{icon:c.nET})," FIX"]})]})]}),(0,a.jsxs)("div",{className:"panel-content",children:[(0,a.jsx)("textarea",{value:e,onChange:e=>s(e.target.value),className:"code-textarea",placeholder:'输入 JSON 数据，例如: {"name": "John", "age": 30}'}),f&&(0,a.jsx)("div",{className:"error-message",children:f})]}),(0,a.jsxs)("div",{className:"panel-footer",children:[(0,a.jsxs)("div",{className:"stats",children:[(0,a.jsxs)("span",{children:[_(S.input)," bytes"]}),(0,a.jsxs)("button",{className:"panel-btn",onClick:()=>N(!0),children:[(0,a.jsx)(n.g,{icon:c.Int})," 历史记录"]})]}),(0,a.jsxs)("div",{className:"action-buttons",children:[(0,a.jsxs)("button",{className:"panel-btn",onClick:M,children:[(0,a.jsx)(n.g,{icon:c.R9T})," 粘贴"]}),(0,a.jsxs)("button",{className:"panel-btn",onClick:()=>{s(""),r(""),y(""),v("empty")},children:[(0,a.jsx)(n.g,{icon:c.BeE})," 清空"]})]})]})]}),(0,a.jsxs)("div",{className:"panel",children:[(0,a.jsxs)("div",{className:"panel-header",children:[(0,a.jsxs)("div",{className:"panel-title",children:[(0,a.jsx)(n.g,{icon:c.jTw})," OUTPUT"]}),(0,a.jsxs)("div",{className:"panel-actions",children:[(0,a.jsxs)("button",{className:"panel-btn",onClick:()=>{s(t),r(e)},children:[(0,a.jsx)(n.g,{icon:c._qq})," 交换"]}),(0,a.jsxs)("button",{className:"panel-btn",onClick:()=>t&&I(t),children:[(0,a.jsx)(n.g,{icon:c.jPR})," 复制"]})]})]}),(0,a.jsx)("div",{className:"panel-content",children:(0,a.jsx)("textarea",{value:t,readOnly:!0,className:"code-textarea output-textarea",placeholder:"处理后的 JSON 将显示在这里"})}),(0,a.jsxs)("div",{className:"panel-footer",children:[(0,a.jsx)("div",{className:"stats",children:(0,a.jsxs)("span",{children:[_(S.output)," bytes"]})}),(0,a.jsx)("div",{className:"action-buttons",children:(0,a.jsxs)("button",{className:"panel-btn",onClick:()=>t&&I(t),children:[(0,a.jsx)(n.g,{icon:c.jPR})," 复制"]})})]})]})]})]}),g&&(0,a.jsx)("div",{className:"history-panel active",children:(0,a.jsxs)("div",{className:"history-content",children:[(0,a.jsxs)("div",{className:"history-header",children:[(0,a.jsxs)("h2",{className:"history-title",children:[(0,a.jsx)(n.g,{icon:c.Int})," JSON 处理历史"]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{className:"cyber-btn-small",onClick:()=>{window.confirm("确定要清空所有历史记录吗？此操作不可恢复！")&&(j([]),localStorage.removeItem("json_history"),alert("已清空所有历史记录"))},style:{marginRight:"10px"},children:[(0,a.jsx)(n.g,{icon:c.BeE})," 清空所有"]}),(0,a.jsxs)("button",{className:"cyber-btn-small",onClick:()=>N(!1),children:[(0,a.jsx)(n.g,{icon:c.GRI})," 关闭"]})]})]}),(0,a.jsx)("div",{className:"history-list",children:u.length>0?u.map((e,t)=>(0,a.jsxs)("div",{className:"history-item",children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,a.jsx)("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"12px",fontFamily:"Orbitron, monospace",background:"rgba(0, 255, 255, 0.1)",color:"var(--accent-color)",border:"1px solid var(--border-color)"},children:e.mode.toUpperCase()}),(0,a.jsx)("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:(e=>{let s=new Date(e),t=new Date().getTime()-s.getTime(),a=Math.floor(t/6e4),l=Math.floor(t/36e5),n=Math.floor(t/864e5);return a<1?"刚刚":a<60?"".concat(a,"分钟前"):l<24?"".concat(l,"小时前"):n<7?"".concat(n,"天前"):s.toLocaleDateString("zh-CN")})(e.timestamp)})]}),(0,a.jsx)("button",{onClick:()=>(e=>{if(window.confirm("确定要删除这条历史记录吗？")){let s=u.filter((s,t)=>t!==e);j(s),localStorage.setItem("json_history",JSON.stringify(s)),alert("已删除历史记录")}})(t),className:"panel-btn",style:{color:"var(--accent-color)",borderColor:"var(--accent-color)"},children:(0,a.jsx)(n.g,{icon:c.yLS})})]}),(0,a.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,a.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:"5px"},children:"输入:"}),(0,a.jsx)("div",{style:{fontFamily:"JetBrains Mono, monospace",fontSize:"12px",color:"var(--text-primary)",background:"var(--bg-secondary)",padding:"8px",borderRadius:"4px",maxHeight:"80px",overflowY:"auto",wordBreak:"break-all"},children:e.input.length>200?e.input.substring(0,200)+"...":e.input})]}),(0,a.jsx)("div",{style:{display:"flex",gap:"8px",marginTop:"10px"},children:(0,a.jsxs)("button",{onClick:()=>{s(e.input),r(e.output),N(!1),alert("已加载历史记录")},className:"cyber-btn-small",children:[(0,a.jsx)(n.g,{icon:c.JmV})," 加载"]})})]},t)):(0,a.jsxs)("div",{className:"empty-state",children:[(0,a.jsx)(n.g,{icon:c.Up0}),(0,a.jsx)("p",{children:"暂无历史记录"})]})})]})})]})})}t(339)}},e=>{e.O(0,[400,266,657,441,255,358],()=>e(e.s=2667)),_N_E=e.O()}]);